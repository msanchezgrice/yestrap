<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Coming Soon — The Yes Trap</title>
  <meta name="robots" content="noindex" />
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17534795165"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);} 
    gtag('js', new Date());

    gtag('config', 'AW-17534795165');
    // Optional: add GA4 measurement ID below to enable full analytics (pageviews, events)
    // gtag('config', 'G-XXXXXXXXXX');
  </script>
  <!-- Vercel Web Analytics -->
  <script defer src="/_vercel/insights/script.js"></script>
  <!-- Mailchimp Connected Site -->
  <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/2c672edb48d8f0e7798587505/97c10383704b1967090ae60dc.js");</script>
  <link rel="stylesheet" href="/styles.css">
</head>
<body class="overlay-body">
  <main class="overlay">
    <div class="overlay-panel">
      <div class="overlay-badge">Coming Soon</div>
      <h1 class="overlay-title">Purchase Coming Soon</h1>
      <p class="overlay-copy">Drop your email and we’ll notify you when purchase links go live.</p>

      <form class="overlay-form" id="subscribe-form" novalidate>
        <div class="overlay-row">
          <label class="sr-only" for="email">Email address</label>
          <input id="email" name="email" type="email" inputmode="email" autocomplete="email" required placeholder="you@example.com">
          <button class="btn" type="submit">Notify me</button>
        </div>
        <p id="form-status" class="overlay-note micro" role="status" aria-live="polite"></p>
      </form>
      <a href="/" class="btn btn-dark">Back to site</a>
    </div>
  </main>
  <script>
    const form = document.getElementById('subscribe-form');
    if (form) {
      const emailInput = form.querySelector('#email');
      const status = document.getElementById('form-status');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        status.textContent = '';
        const email = (emailInput.value || '').trim();
        if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          status.textContent = 'Please enter a valid email.';
          return;
        }
        try {
          const res = await fetch('/api/subscribe', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email })
          });
          if (!res.ok) throw new Error('network');
          window.location.href = '/comingsoon/email';
        } catch (err) {
          status.textContent = 'Something went wrong. Please try again later.';
        }
      });
    }
  </script>
</body>
</html>


